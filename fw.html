<!DOCTYPE html>
<html>
<head>
        <title>
            Fetch-Wall
        </title>

        <meta charset="ISO-8859-1">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

</head>

<body class="bg-secondary">

    <nav class="navbar navbar-expand-lg navbar-light bg-dark">
        <a class="navbar-brand" href="fw.html" style="color:blanchedalmond"> Fetch-Wall</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
           
         
          </ul>

          <input class="form-control outline-success"type="text" id="search" placeholder="Search your favourite category" >
          
          <button onclick=" fetchphotos()" class="btn btn-outline-light">Search</button>
       
         
        </div>
      </nav>
    
       <br>
       
        <div id="result" class="row d-flex justify-content-center ">
        
        </div>
        <br>
        <div class="jumbotron jumbotron-fluid">
          <div class="container">
            <h3 class="display-4">Fetch-Wall</h3>
            <p class="lead">This a web based wallpaper search application. In this we can search our favourite wallpapers in different categories.
              It uses unsplash API and it is open source project. It is mobile Interactive and easy to use. So enjoy the site:)
            </p>
            <p class="lead"><b>Note :</b> As we are using Unsplash API , we can perform only 50 searches per hour.</p>
          </div>
        </div>
    
        
</body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>

function fetchphotos()
{   document.getElementById("result").innerHTML="";
    let clientId="NrqMgfZI07nwyZ2G2oJHyjVWh5PKwIVqVpYegeYkEwQ";
    let query=document.getElementById("search").value;
    let url="https://api.unsplash.com/search/photos/?client_id="+ clientId +"&query="+ query;

    //making a req to api

    fetch(url)
        .then(function(data){
            return data.json();
        })

        .then(function(data){
            console.log(data);

            data.results.forEach(photo =>{
                
                let result=`<img src="${photo.urls.regular}">
                            <a href="${photo.links.download}">
                            `; 
                
                 $("#result").append(result);

            });
        });
}

    </script>
    
</html>